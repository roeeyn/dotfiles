#!/bin/bash

directory=$(find ~ ~/src ~/playground ~/Desktop -mindepth 1 -maxdepth 1 -type d | fzf)
tab_name=$(basename "$directory" | tr . _)

# NOTE: We're assuming there's already a zellij session running. It starts automatically at ~/.zshrc
# -w flag in rg match for the exact word
if (zellij action query-tab-names | rg -w $tab_name) 1> /dev/null 2> /dev/null; then
    zellij action go-to-tab-name "$tab_name"
else
    zellij action new-tab -c $directory -n $tab_name -l "default"
fi
